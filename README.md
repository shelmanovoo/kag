# kag
–í–æ—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–π README.md –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

Knowledge Graph QA –Ω–∞ Neo4j + OpenAI (OpenRouter)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ —Å–≤—è–∑–∞—Ç—å –≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π –Ω–∞ –±–∞–∑–µ Neo4j —Å LLM-–º–æ–¥–µ–ª—å—é —á–µ—Ä–µ–∑ OpenRouter, —á—Ç–æ–±—ã –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å—Ç—Ä–æ–≥–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞–Ω–∏–π, –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –∏–∑ –≥—Ä–∞—Ñ–æ–≤–æ–π –±–∞–∑—ã.

üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
	‚Ä¢	–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ Neo4j –ø–æ –∏–º–µ–Ω–∏ —Å—É—â–Ω–æ—Å—Ç–∏.
	‚Ä¢	–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è LLM.
	‚Ä¢	–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –º–æ–¥–µ–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∞ –∑–Ω–∞–Ω–∏–π (RAG over KG).
	‚Ä¢	–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–≠–π–Ω—à—Ç–µ–π–Ω, –ë–æ—Ä, –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–æ—Ä–∏–∏).

üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

project/
‚îÇ‚îÄ‚îÄ kag.py                # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îÇ‚îÄ‚îÄ .env                   # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª

‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
	‚Ä¢	Python 3.10+
	‚Ä¢	Neo4j 5.x
	‚Ä¢	–ó–∞–ø—É—â–µ–Ω–Ω—ã–π Neo4j –ø–æ –∞–¥—Ä–µ—Å—É: bolt://localhost:7687
	‚Ä¢	–ê–∫–∫–∞—É–Ω—Ç –≤ OpenRouter

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

pip install neo4j python-dotenv openai

üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª .env:

OPENROUTER_API_KEY=—Ç–≤–æ–π_api_–∫–ª—é—á
NEO4J_PASSWORD=–ø–∞—Ä–æ–ª—å_–æ—Ç_neo4j

‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å
	1.	–£–±–µ–¥–∏—Å—å, —á—Ç–æ Neo4j –∑–∞–ø—É—â–µ–Ω.
	2.	–í—ã–ø–æ–ª–Ω–∏:

python main.py

–°–∫—Ä–∏–ø—Ç:
	‚Ä¢	—Å–æ–∑–¥–∞—Å—Ç —Ç–µ—Å—Ç–æ–≤—ã–π –≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π (–µ—Å–ª–∏ –æ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç),
	‚Ä¢	–≤—ã–ø–æ–ª–Ω–∏—Ç –∑–∞–ø—Ä–æ—Å –∫ –≥—Ä–∞—Ñ—É,
	‚Ä¢	–ø–µ—Ä–µ–¥–∞—Å—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ LLM,
	‚Ä¢	–≤—ã–≤–µ–¥–µ—Ç –æ—Ç–≤–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å.

üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–Ω–∞–Ω–∏–π

–í Neo4j –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —É–∑–ª—ã:
	‚Ä¢	Albert Einstein
	‚Ä¢	–ù–∏–ª—å—Å –ë–æ—Ä
	‚Ä¢	–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ç–µ–æ—Ä–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
	‚Ä¢	–û–±—â–∞—è —Ç–µ–æ—Ä–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
	‚Ä¢	–ö–≤–∞–Ω—Ç–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞

–∏ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–∏–º–∏:

Einstein ‚Äî[–†–ê–ó–†–ê–ë–û–¢–ê–õ]‚Üí –¢–µ–æ—Ä–∏–∏
Einstein ‚Äî[–í–õ–ò–Ø–õ_–ù–ê]‚Üí –ö–≤–∞–Ω—Ç–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞
Einstein ‚Äî[–°–ü–û–†–ò–õ_–°]‚Üí –ë–æ—Ä
–ë–æ—Ä ‚Äî[–†–ê–ó–†–ê–ë–û–¢–ê–õ]‚Üí –ö–≤–∞–Ω—Ç–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞

![telegram-cloud-photo-size-2-5248962022043488127-x](https://github.com/user-attachments/assets/7c0a1460-0252-4301-a7b0-a83d6b7ee4a3)


2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

–ó–∞–ø—Ä–æ—Å:

MATCH (n {name: $name})-[r]->(m)
RETURN ...

–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–∏:

Albert Einstein ‚Üí –†–ê–ó–†–ê–ë–û–¢–ê–õ ‚Üí –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ç–µ–æ—Ä–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
...

3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞

–ú–æ–¥–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

–ö–∞–∫ –≠–π–Ω—à—Ç–µ–π–Ω —Å–≤—è–∑–∞–Ω —Å –∫–≤–∞–Ω—Ç–æ–≤–æ–π —Ç–µ–æ—Ä–∏–µ–π –ø–æ–ª—è?

–ò –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

üìò –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

–ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ KG:
–ò–∑ –≥—Ä–∞—Ñ–∞ –∑–Ω–∞–Ω–∏–π –∏–∑–≤–µ—Å—Ç–Ω–æ:
Albert Einstein ‚Üí –í–õ–ò–Ø–õ_–ù–ê ‚Üí –ö–≤–∞–Ω—Ç–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞
Albert Einstein ‚Üí –°–ü–û–†–ò–õ_–° ‚Üí –ù–∏–ª—å—Å –ë–æ—Ä
...

–û—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏:
–ù–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤ –∏–∑ –≥—Ä–∞—Ñ–∞ –∑–Ω–∞–Ω–∏–π —è –Ω–µ –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å –æ —Å–≤—è–∑–∏ –≠–π–Ω—à—Ç–µ–π–Ω–∞ —Å –∫–≤–∞–Ω—Ç–æ–≤–æ–π —Ç–µ–æ—Ä–∏–µ–π –ø–æ–ª—è, —Ç–∞–∫ –∫–∞–∫ —Ç–∞–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –≥—Ä–∞—Ñ–µ –Ω–µ—Ç. –í –≥—Ä–∞—Ñ–µ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–≤—è–∑–∏ –≠–π–Ω—à—Ç–µ–π–Ω–∞ —Å –∫–≤–∞–Ω—Ç–æ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∫–æ–π (–æ–Ω –≤–ª–∏—è–ª –Ω–∞ –µ—ë —Ä–∞–∑–≤–∏—Ç–∏–µ), –Ω–æ –Ω–µ —Å –∫–≤–∞–Ω—Ç–æ–≤–æ–π —Ç–µ–æ—Ä–∏–µ–π –ø–æ–ª—è.
